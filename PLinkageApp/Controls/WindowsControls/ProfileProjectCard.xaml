<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="PLinkageApp.WindowsControls.ProfileProjectCard"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Name="ThisControl">
    <Border
        Margin="0,0,0,5"
        Padding="15"
        BackgroundColor="White"
        Stroke="#8A2BE2"
        StrokeShape="RoundRectangle 12"
        StrokeThickness="2">

        <Grid ColumnDefinitions="*,Auto" ColumnSpacing="10">

            <VerticalStackLayout
                Grid.Column="0"
                Spacing="2"
                VerticalOptions="Center">
                <Label
                    FontAttributes="Bold"
                    FontSize="16"
                    Text="{Binding Source={x:Reference ThisControl}, Path=ProjectName}"
                    TextColor="#000000" />

                <HorizontalStackLayout Spacing="5">
                    <Label
                        FontSize="14"
                        Text="Status:"
                        TextColor="#000000" />
                    <Label
                        FontSize="14"
                        Text="{Binding Source={x:Reference ThisControl}, Path=ProjectStatus}"
                        TextColor="#00C853">

                        <Label.Triggers>
                            <DataTrigger
                                Binding="{Binding Source={x:Reference ThisControl}, Path=ProjectStatus}"
                                TargetType="Label"
                                Value="Completed">
                                <Setter Property="TextColor" Value="#00C853" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding Source={x:Reference ThisControl}, Path=ProjectStatus}"
                                TargetType="Label"
                                Value="Active">
                                <Setter Property="TextColor" Value="#FFAB00" />
                            </DataTrigger>
                            <DataTrigger
                                Binding="{Binding Source={x:Reference ThisControl}, Path=ProjectStatus}"
                                TargetType="Label"
                                Value="Deactivated">
                                <Setter Property="TextColor" Value="#D50000" />
                            </DataTrigger>
                        </Label.Triggers>
                    </Label>
                </HorizontalStackLayout>
                <HorizontalStackLayout IsVisible="{Binding Source={x:Reference ThisControl}, Path=IsOwner}" Spacing="5">
                    <Label
                        FontSize="14"
                        Text="Timeframe:"
                        TextColor="#000000" />
                    <Label
                        FontSize="14"
                        Text="{Binding Source={x:Reference ThisControl}, Path=TimeFrame, StringFormat='{0} hours'}"
                        TextColor="#000000" />
                </HorizontalStackLayout>
                <HorizontalStackLayout IsVisible="{Binding Source={x:Reference ThisControl}, Path=IsOwner}" Spacing="5">
                    <Label
                        FontSize="14"
                        Text="Rate:"
                        TextColor="#000000" />
                    <Label
                        FontSize="14"
                        Text="{Binding Source={x:Reference ThisControl}, Path=Rate, StringFormat='â‚±{0} per hour'}"
                        TextColor="#000000" />
                </HorizontalStackLayout>
            </VerticalStackLayout>

            <ImageButton
                Grid.Column="1"
                Aspect="Center"
                BackgroundColor="Transparent"
                Command="{Binding Source={x:Reference ThisControl}, Path=Command}"
                CommandParameter="{Binding Source={x:Reference ThisControl}, Path=CommandParameter}"
                HeightRequest="24"
                Source="viewproject.png"
                VerticalOptions="Center"
                WidthRequest="24" />

        </Grid>
    </Border>
</ContentView>
