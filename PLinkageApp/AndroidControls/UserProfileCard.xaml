<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="PLinkageApp.AndroidControls.UserProfileCard"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:PLinkageApp.AndroidControls"
    x:Name="ThisControl">
    <Border
        Padding="20"
        HorizontalOptions="FillAndExpand"
        StrokeThickness="0">

        <Border.Background>
            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                <GradientStop Offset="0.27" Color="#D4C5F9" />
                <GradientStop Offset="0.85" Color="#F8F9FC" />
            </LinearGradientBrush>
        </Border.Background>

        <VerticalStackLayout HorizontalOptions="Center" Spacing="5">

            <Image
                Aspect="AspectFill"
                HeightRequest="120"
                HorizontalOptions="Center"
                Source="defaultprofileicon.png"
                VerticalOptions="Center"
                WidthRequest="120">
                <Image.Clip>
                    <EllipseGeometry
                        Center="60,60"
                        RadiusX="60"
                        RadiusY="60" />
                </Image.Clip>
            </Image>

            <Label
                FontAttributes="Bold"
                FontSize="24"
                HorizontalOptions="Center"
                Text="{Binding Source={x:Reference ThisControl}, Path=UserName}"
                TextColor="#333333" />

            <Label
                FontSize="16"
                HorizontalOptions="Center"
                Text="{Binding Source={x:Reference ThisControl}, Path=UserSubtitle}"
                TextColor="#666663" />

            <HorizontalStackLayout
                HorizontalOptions="Center"
                IsVisible="{Binding Source={x:Reference ThisControl}, Path=IsRatingVisible}"
                Spacing="5">
                <Label
                    FontSize="16"
                    Text="Rating:"
                    TextColor="#333333" />
                <Label
                    FontAttributes="Bold"
                    FontSize="16"
                    Text="{Binding Source={x:Reference ThisControl}, Path=UserRating}"
                    TextColor="#333333" />
                <Image
                    HeightRequest="16"
                    Source="staricon.png"
                    VerticalOptions="Center"
                    WidthRequest="16" />
            </HorizontalStackLayout>

            <Label
                FontSize="14"
                HorizontalOptions="Center"
                Text="{Binding Source={x:Reference ThisControl}, Path=JoinedDate, StringFormat='Joined on: {0:MMMM dd, yyyy}'}"
                TextColor="#999999" />

            <Button
                BackgroundColor="#8A2BE2"
                Command="{Binding Source={x:Reference ThisControl}, Path=MessageCommand}"
                CornerRadius="25"
                FontAttributes="Bold"
                FontSize="18"
                HeightRequest="50"
                HorizontalOptions="Center"
                IsVisible="{Binding Source={x:Reference ThisControl}, Path=IsMessageButtonVisible}"
                Text="Message"
                TextColor="White"
                WidthRequest="200" />

            <Button
                x:Name="DeactivateActivateBtn"
                Command="{Binding Source={x:Reference ThisControl}, Path=DeactivateActivateCommand}"
                CornerRadius="25"
                FontAttributes="Bold"
                FontSize="18"
                HeightRequest="50"
                HorizontalOptions="Center"
                IsVisible="{Binding Source={x:Reference ThisControl}, Path=IsDeactivateActivateButtonVisible}"
                TextColor="White"
                WidthRequest="200" />

        </VerticalStackLayout>
    </Border>
</ContentView>