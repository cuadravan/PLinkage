<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PLinkage.Views.RegisterView"
             Title="Register Page"
             BackgroundColor="White">

    <ScrollView>
        <VerticalStackLayout 
            Padding="10"
            Spacing="20"
            HorizontalOptions="Center"
            VerticalOptions="Center">

            <!-- ðŸŸ¡ Back to Login Button -->
            <Button Text="â† Back to Login"
            HorizontalOptions="Start"
            VerticalOptions="Start"
            BackgroundColor="Transparent"
            TextColor="#007BFF"
            FontAttributes="Bold"
            Command="{Binding BackToLoginCommand}" />
            
            <Border 
                StrokeThickness="2"
                Stroke="#5A5A5A"
                BackgroundColor="#F8F8F8"
                Padding="20"
                StrokeShape="Rectangle 20"
                HorizontalOptions="Fill"
                WidthRequest="700">

                <VerticalStackLayout Spacing="30">

                    <Label 
                        Text="Register" 
                        FontSize="30" 
                        FontAttributes="Bold" 
                        TextColor="#333"
                        HorizontalOptions="Center"/>

                    <Grid ColumnDefinitions="*,*"
                          RowDefinitions="Auto, Auto, Auto"
                          ColumnSpacing="30"
                          RowSpacing="30">

                        <!-- First Row (Blank Cell + Upload Button) -->
                        <Label Grid.Row="0" Grid.Column="0" />
                        <Button Grid.Row="0" Grid.Column="1"
                                Text="Upload Profile Photo"
                                BackgroundColor="#007BFF"
                                TextColor="White"
                                CornerRadius="10"
                                Padding="10,5"
                                FontSize="14"
                                HorizontalOptions="End" />

                        <!-- Second Row (Two Columns of Fields) -->
                        <Grid Grid.Row="1" Grid.ColumnSpan="2"
                              ColumnDefinitions="*,*"
                              RowSpacing="25"
                              ColumnSpacing="30">

                            <!-- Left Column -->
                            <VerticalStackLayout Grid.Column="0" Spacing="15">
                                <Label Text="First Name" FontAttributes="Bold" TextColor="#444" />
                                <Entry BackgroundColor="White" FontSize="14" Placeholder="First Name" Text="{Binding FirstName}"/>

                                <Label Text="Last Name" FontAttributes="Bold" TextColor="#444" />
                                <Entry BackgroundColor="White" FontSize="14" Placeholder="Last Name" Text="{Binding LastName}"/>

                                <Label Text="Email Address" FontAttributes="Bold" TextColor="#444" />
                                    <Entry BackgroundColor="White" FontSize="14" Placeholder="Email Address" Keyboard="Email" Text="{Binding Email}"/>

                                <Label Text="Password" FontAttributes="Bold" TextColor="#444" />
                                <Entry BackgroundColor="White" FontSize="14" Placeholder="Password" IsPassword="True" Text="{Binding Password}"/>

                                <Label Text="Confirm Password" FontAttributes="Bold" TextColor="#444" />
                                            <Entry BackgroundColor="White" FontSize="14" Placeholder="Confirm Password" IsPassword="True" Text="{Binding ConfirmPassword}"/>
                            </VerticalStackLayout>

                            <!-- Right Column -->
                            <VerticalStackLayout Grid.Column="1" Spacing="15">
                                <Label Text="Birthdate" FontAttributes="Bold" TextColor="#444" />
                                <DatePicker Date="{Binding Birthdate}"
                                            HorizontalOptions="Fill"
                                            VerticalOptions="Center"
                                            ToolTipProperties.Text="Optional."
                                            HeightRequest="45"
                                            FontSize="14"
                                            BackgroundColor="White" />

                                <Label Text="Gender" FontAttributes="Bold" TextColor="#444" />
                                <HorizontalStackLayout HorizontalOptions="Fill"
                                                       VerticalOptions="Center"
                                                       Spacing="20">
                                    <RadioButton Content="Male"
                                                 IsChecked="{Binding IsMale}"
                                                 GroupName="Gender"
                                                 ToolTipProperties.Text="Required."
                                                 HorizontalOptions="StartAndExpand" />

                                    <RadioButton Content="Female"
                                                 IsChecked="{Binding IsFemale}"
                                                 GroupName="Gender"
                                                 ToolTipProperties.Text="Required."
                                                 HorizontalOptions="EndAndExpand" />
                                </HorizontalStackLayout>

                                <Label Text="Location" FontAttributes="Bold" TextColor="#444" />
                                <Picker ItemsSource="{Binding CebuLocations}"
                                        SelectedItem="{Binding SelectedLocation}"
                                        HorizontalOptions="Fill"
                                        VerticalOptions="Center"
                                        HeightRequest="45"
                                        FontSize="14"
                                        BackgroundColor="White" />

                                <Label Text="Mobile Number" FontAttributes="Bold" TextColor="#444" />
                                <Entry BackgroundColor="White"
                                       FontSize="14"
                                       Placeholder="Mobile Number"
                                       Keyboard="Telephone" 
                                       Text="{Binding MobileNumber}"/>

                                <Label Text="Role of Choice" FontAttributes="Bold" TextColor="#444" />
                                <Picker ItemsSource="{Binding Roles}"
                                        SelectedItem="{Binding SelectedRole}"
                                        HorizontalOptions="Fill"
                                        VerticalOptions="Center"
                                        HeightRequest="45"
                                        FontSize="14"
                                        BackgroundColor="White" />
                            </VerticalStackLayout>

                        </Grid>

                        <!-- Row 2: Buttons and Error Message -->
                        <VerticalStackLayout Grid.Row="2" Grid.ColumnSpan="2" Spacing="10" HorizontalOptions="Center">

                            <HorizontalStackLayout Spacing="20" HorizontalOptions="Center">
                                <Button Text="Register" 
                BackgroundColor="#28A745" 
                TextColor="White" 
                HeightRequest="50"
                CornerRadius="10"
                FontSize="16"
                FontAttributes="Bold"
                WidthRequest="150" 
                Command="{Binding RegisterCommand}"/>

                                <Button Text="Clear" 
                BackgroundColor="#DC3545" 
                TextColor="White" 
                HeightRequest="50"
                CornerRadius="10"
                FontSize="16"
                FontAttributes="Bold"
                WidthRequest="150"
                Command="{Binding ClearCommand}"/>
                            </HorizontalStackLayout>

                            <!-- Error Message Label -->
                            <Label Text="{Binding ErrorMessage}"
           TextColor="Red"
           FontSize="14"
           FontAttributes="Italic"
           IsVisible="{Binding ErrorMessage}"
           HorizontalOptions="Center" />
                        </VerticalStackLayout>



                    </Grid>

                </VerticalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>